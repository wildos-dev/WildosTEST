import{j as e,r as d}from"./react-core-Bcdk_OeX.js";import{F as n,I as c,j as l,ap as p,aq as h,a1 as u}from"./index-DRsjEK3q.js";import"./layout-Y81SaLgb.js";import{aJ as i,d as x}from"./react-ecosystem-6S3Qhx2r.js";import"./dnd-kit-BufO2FBr.js";import{u as v,h as g,O as j}from"./router-DsiC1lhN.js";import{P as y}from"./index-BIixQq-_.js";import{E as f}from"./entity-table-DPjPnjre.js";import{S as N}from"./index-Bm5OAklo.js";import"./monaco-D6sUsa5W.js";import"./styling-utils--BulIq_u.js";import"./network-3TAtD9nM.js";import"./query-BGTG4bZD.js";import"./state-BNTuQEE6.js";import"./forms-BplYsbWl.js";import"./search-BP5e7l94.js";import"./date-utils-hmeNWewA.js";import"./table-DQ5QIWK1.js";import"./recharts-D-jZI7XS.js";const b=a=>[{accessorKey:"name",header:({column:s})=>e.jsx(n,{title:i.t("name"),column:s})},{accessorKey:"users",header:({column:s})=>e.jsx(n,{title:i.t("users"),column:s}),cell:({row:s})=>{const t=s.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{name:"Users",className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"}),e.jsx("span",{children:t?.user_ids?.length||0})]})},meta:{className:"hidden sm:table-cell"}},{accessorKey:"inbounds",header:({column:s})=>e.jsx(n,{title:i.t("inbounds"),column:s}),cell:({row:s})=>{const t=s.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{name:"Router",className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"}),e.jsx("span",{children:t?.inbound_ids?.length||0})]})},meta:{className:"hidden md:table-cell"}},{accessorKey:"status",header:({column:s})=>e.jsx(n,{title:i.t("status"),column:s}),cell:({row:s})=>{const t=s.original,r=t?.user_ids?.length>0&&t?.inbound_ids?.length>0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm",children:r?i.t("active"):i.t("inactive")})]})},meta:{className:"hidden lg:table-cell"}},{id:"actions",cell:({row:s})=>e.jsxs("div",{className:"flex gap-1 sm:gap-2 opacity-100 sm:opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onOpen(s.original)},className:"focus-visible:opacity-100",title:i.t("open"),children:e.jsx(c,{name:"Eye",className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onEdit(s.original)},className:"focus-visible:opacity-100",title:i.t("edit"),children:e.jsx(c,{name:"Edit",className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onDelete(s.original)},className:"focus-visible:opacity-100 hover:text-destructive",title:i.t("delete"),children:e.jsx(c,{name:"Trash2",className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}],S=()=>{const a=v({from:"/services"}),s=o=>{a({to:"/services/$serviceId/edit",params:{serviceId:String(o.id)}})},t=o=>{a({to:"/services/$serviceId/delete",params:{serviceId:String(o.id)}})},r=o=>{a({to:"/services/$serviceId",params:{serviceId:String(o.id)}})},m=b({onEdit:s,onDelete:t,onOpen:r});return e.jsx(f,{fetchEntity:h,columns:m,primaryFilter:"name",entityKey:p,onCreate:()=>a({to:"/services/create"}),onOpen:r})},w=()=>{const{t:a}=x();return e.jsxs(y,{title:a("services"),children:[e.jsx(S,{}),e.jsx(d.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(j,{})})]})},J=g("/_dashboard/services")({component:()=>e.jsxs(N,{children:[" ",e.jsx(w,{})," "]})});export{J as Route,w as ServicesPage};
