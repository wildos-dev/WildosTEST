import{r as m,g as W,W as R}from"./react-core-Bcdk_OeX.js";var j={exports:{}},x={},D={exports:{}},O={};var b=m;function z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C=typeof Object.is=="function"?Object.is:z,V=b.useState,F=b.useEffect,T=b.useLayoutEffect,A=b.useDebugValue;function P(e,t){var o=t(),n=V({inst:{value:o,getSnapshot:t}}),r=n[0].inst,s=n[1];return T(function(){r.value=o,r.getSnapshot=t,E(r)&&s({inst:r})},[e,o,t]),F(function(){return E(r)&&s({inst:r}),e(function(){E(r)&&s({inst:r})})},[e]),A(o),o}function E(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!C(e,o)}catch{return!0}}function J(e,t){return t()}var M=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J:P;O.useSyncExternalStore=b.useSyncExternalStore!==void 0?b.useSyncExternalStore:M;D.exports=O;var N=D.exports;var g=m,G=N;function U(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B=typeof Object.is=="function"?Object.is:U,q=G.useSyncExternalStore,H=g.useRef,K=g.useEffect,Q=g.useMemo,X=g.useDebugValue;x.useSyncExternalStoreWithSelector=function(e,t,o,n,r){var s=H(null);if(s.current===null){var u={hasValue:!1,value:null};s.current=u}else u=s.current;s=Q(function(){function l(c){if(!v){if(v=!0,i=c,c=n(c),r!==void 0&&u.hasValue){var d=u.value;if(r(d,c))return a=d}return a=c}if(d=a,B(i,c))return d;var p=n(c);return r!==void 0&&r(d,p)?(i=c,d):(i=c,a=p)}var v=!1,i,a,f=o===void 0?null:o;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,o,n,r]);var S=q(e,s[0],s[1]);return K(function(){u.hasValue=!0,u.value=S},[S]),X(S),S};j.exports=x;var Y=j.exports;const Z=W(Y),k={},w=e=>{let t;const o=new Set,n=(i,a)=>{const f=typeof i=="function"?i(t):i;if(!Object.is(f,t)){const c=t;t=a??(typeof f!="object"||f===null)?f:Object.assign({},t,f),o.forEach(d=>d(t,c))}},r=()=>t,l={setState:n,getState:r,getInitialState:()=>v,subscribe:i=>(o.add(i),()=>o.delete(i)),destroy:()=>{o.clear()}},v=t=e(n,r,l);return l},ee=e=>e?w(e):w,$={},{useDebugValue:te}=R,{useSyncExternalStoreWithSelector:oe}=Z;let h=!1;const ne=e=>e;function re(e,t=ne,o){($?"production":void 0)!=="production"&&o&&!h&&(h=!0);const n=oe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return te(n),n}const y=e=>{const t=typeof e=="function"?ee(e):e,o=(n,r)=>re(t,n,r);return Object.assign(o,t),o},le=e=>e?y(e):y,se=e=>(t,o,n)=>{const r=n.subscribe;return n.subscribe=(u,S,l)=>{let v=u;if(S){const i=l?.equalityFn||Object.is;let a=u(n.getState());v=f=>{const c=u(f);if(!i(a,c)){const d=a;S(a=c,d)}},l?.fireImmediately&&S(a,a)}return r(v)},e(t,o,n)},fe=se;function L(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}const I=(e,t)=>{const o=JSON.stringify(t);window.localStorage.setItem(e,o),L(e,o)},ue=e=>{window.localStorage.removeItem(e),L(e,null)},_=e=>window.localStorage.getItem(e),ce=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),ie=()=>{throw Error("useLocalStorage is a client-only hook")};function de(e,t){const o=()=>_(e),n=m.useSyncExternalStore(ce,o,ie),r=m.useCallback(s=>{try{const u=typeof s=="function"?s(JSON.parse(n)):s;u==null?ue(e):I(e,u)}catch{}},[e,n]);return m.useEffect(()=>{_(e)===null&&typeof t<"u"&&I(e,t)},[e,t]),[n?JSON.parse(n):t,r]}export{le as c,fe as s,de as u,Y as w};
