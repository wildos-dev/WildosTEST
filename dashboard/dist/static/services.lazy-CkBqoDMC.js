import{j as e,r as p}from"./react-core-Bcdk_OeX.js";import{A as c,I as n,j as l,am as h,an as u,ao as v,Z as x}from"./index-D9xJNTt9.js";import"./layout-Y81SaLgb.js";import{aK as i,d as g}from"./react-ecosystem-DA9e0y3F.js";import"./dnd-kit-BufO2FBr.js";import{u as j,h as y,O as f}from"./router-BzWBhOx2.js";import{P as N}from"./index-d4rf_bwY.js";import{E as b}from"./entity-table-B7On41yN.js";import{S}from"./index-BqxW2es5.js";import"./monaco-D6sUsa5W.js";import"./styling-utils--BulIq_u.js";import"./network-3TAtD9nM.js";import"./forms-D7oth6Cp.js";import"./search-CgVhiaN-.js";import"./query-BGTG4bZD.js";import"./state-BNTuQEE6.js";import"./date-utils-hmeNWewA.js";import"./table-DQ5QIWK1.js";import"./recharts-CPh6Hnhc.js";const w=a=>[{accessorKey:"name",header:({column:s})=>e.jsx(c,{title:i.t("name"),column:s})},{accessorKey:"users",header:({column:s})=>e.jsx(c,{title:i.t("users"),column:s}),cell:({row:s})=>{const t=s.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{name:"Users",className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"}),e.jsx("span",{children:t?.user_ids?.length||0})]})},meta:{className:"hidden sm:table-cell"}},{accessorKey:"inbounds",header:({column:s})=>e.jsx(c,{title:i.t("inbounds"),column:s}),cell:({row:s})=>{const t=s.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{name:"Router",className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"}),e.jsx("span",{children:t?.inbound_ids?.length||0})]})},meta:{className:"hidden md:table-cell"}},{accessorKey:"status",header:({column:s})=>e.jsx(c,{title:i.t("status"),column:s}),cell:({row:s})=>{const t=s.original,r=t?.user_ids?.length>0&&t?.inbound_ids?.length>0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm",children:r?i.t("active"):i.t("inactive")})]})},meta:{className:"hidden lg:table-cell"}},{id:"actions",cell:({row:s})=>e.jsxs("div",{className:"flex gap-1 sm:gap-2 opacity-100 sm:opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onOpen(s.original)},className:"focus-visible:opacity-100",title:i.t("open"),children:e.jsx(n,{name:"Eye",className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onEdit(s.original)},className:"focus-visible:opacity-100",title:i.t("edit"),children:e.jsx(n,{name:"Edit",className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx(l,{variant:"ghost",size:"touch-sm",onClick:t=>{t.stopPropagation(),a.onDelete(s.original)},className:"focus-visible:opacity-100 hover:text-destructive",title:i.t("delete"),children:e.jsx(n,{name:"Trash2",className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}],E=()=>{const a=j({from:"/services"}),s=o=>{a({to:"/services/$serviceId/edit",params:{serviceId:String(o.id)}})},t=o=>{a({to:"/services/$serviceId/delete",params:{serviceId:String(o.id)}})},r=o=>{a({to:"/services/$serviceId",params:{serviceId:String(o.id)}})},m=w({onEdit:s,onDelete:t,onOpen:r}),d={onEdit:s,onDelete:t,onOpen:r};return e.jsx(b,{fetchEntity:v,columns:m,primaryFilter:"name",entityKey:u,onCreate:()=>a({to:"/services/create"}),onOpen:r,CardComponent:h,cardActions:d})},C=()=>{const{t:a}=g();return e.jsxs(N,{title:a("services"),children:[e.jsx(E,{}),e.jsx(p.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(f,{})})]})},q=y("/_dashboard/services")({component:()=>e.jsxs(S,{children:[" ",e.jsx(C,{})," "]})});export{q as Route,C as ServicesPage};
